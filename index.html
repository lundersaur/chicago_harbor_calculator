<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chicago Harbor Rates 2025</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .header h1 {
            color: #2c3e50;
            margin: 0 0 10px 0;
        }
        
        .contact-info {
            color: #666;
            font-size: 14px;
        }
        
        .filter-section {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .filter-group {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .filter-group label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        select, input {
            padding: 8px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .harbor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
        }
        
        .harbor-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .harbor-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .harbor-name {
            font-size: 22px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 8px;
        }
        
        .rate-section {
            margin-bottom: 15px;
        }
        
        .rate-type {
            font-weight: 600;
            color: #34495e;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .rate-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 10px;
            border-bottom: 1px solid #f0f0f0;
            transition: background-color 0.3s;
        }
        
        .rate-item:hover {
            background-color: #f8f9fa;
        }
        
        .rate-item.highlight {
            background-color: #e8f5e8;
            border-left: 4px solid #27ae60;
            font-weight: 600;
        }
        
        .rate-item:last-child {
            border-bottom: none;
        }
        
        .size {
            color: #555;
        }
        
        .price {
            font-weight: 600;
            color: #27ae60;
        }
        
        .total-cost {
            background: #e8f5e8;
            padding: 5px 10px;
            border-radius: 5px;
            margin-left: 10px;
            font-size: 14px;
            color: #27ae60;
            font-weight: bold;
        }
        
        .cost-breakdown {
            font-size: 12px;
            color: #666;
            margin-top: 2px;
        }
        
        .notes {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #667eea;
        }
        
        .notes h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .notes ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .calculator {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .calc-row {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .calc-result {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #27ae60;
            margin-top: 15px;
        }
        
        .hidden {
            display: none;
        }
        
        .toggle-section {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .toggle-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .toggle {
            position: relative;
            width: 50px;
            height: 25px;
            background-color: #ccc;
            border-radius: 25px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .toggle.active {
            background-color: #667eea;
        }
        
        .toggle::before {
            content: '';
            position: absolute;
            width: 21px;
            height: 21px;
            border-radius: 50%;
            background-color: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .toggle.active::before {
            transform: translateX(25px);
        }
        
        .toggle-label {
            font-weight: 600;
            color: #2c3e50;
            user-select: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Chicago Harbor Rates 2025</h1>
        <div class="contact-info">
            Managed by Westrec Marina Management<br>
            1521 S. Linn White Drive, 1st Floor South • Chicago, IL 60605<br>
            (312) 741-3601 • (312) 877-5771 • www.chicagoharbors.com
        </div>
    </div>

    <div class="filter-section">
        <h3 style="margin-top: 0; color: #2c3e50;">Find Your Rate</h3>
        <div class="filter-group">
            <label>Boat Length (ft):</label>
            <input type="number" id="boatLength" placeholder="Enter feet" max="150" min="20">
            <label>Harbor:</label>
            <select id="harborFilter">
                <option value="">All Harbors</option>
            </select>
            <label>Type:</label>
            <select id="typeFilter">
                <option value="">All Types</option>
                <option value="stalls">Stall</option>
                <option value="mooringBuoys">Mooring Buoy</option>
                <option value="other">Star Dock</option>
            </select>
        </div>
        <div class="toggle-section">
            <div class="toggle-group">
                <span class="toggle-label">Include tax (7%)</span>
                <div class="toggle" id="taxToggle"></div>
            </div>
            <div class="toggle-group">
                <span class="toggle-label">Non-resident (25%)</span>
                <div class="toggle" id="nonResidentToggle"></div>
            </div>
        </div>
        <div id="resultsCount" style="margin-top: 15px; font-weight: 600; color: #2c3e50;"></div>
    </div>

    <div id="harborContainer" class="harbor-grid">
        <!-- Harbor cards will be dynamically generated here -->
    </div>

    <div class="notes">
        <h3>Important Notes</h3>
        <ul>
            <li>Harbor Fees are based on whichever is greater, the length of the mooring or the length of the boat</li>
            <li>An additional surcharge up to 15% may be charged on T-Head and side-tie stalls</li>
            <li>Rates do not include 7% tax or non-resident surcharge</li>
            <li>Harbor Season is May 1st to October 31st</li>
            <li>A Non-Resident surcharge of up to 25% will be assessed to boaters residing outside Chicago</li>
            <li>The Non-Resident surcharge for 31st Street Harbor is waived for 2025 season</li>
            <li>Utility fees: $100 (≤39'), $175 (40-59'), $250 (≥60')</li>
            <li>Electric fees: $75 (≤39' Power), $25 (≤39' Sail)</li>
        </ul>
    </div>

    <script>
        // Harbor data structure
        const harborData = {
            "31st Street Harbor": {
                stalls: [
                    { size: "35'", rate: 109.00 },
                    { size: "40'", rate: 109.00 },
                    { size: "45'", rate: 115.00 },
                    { size: "50'", rate: 115.00 },
                    { size: "60'", rate: 115.00 },
                    { size: "70'", rate: 131.00 },
                    { size: "71'+", rate: 131.00 }
                ]
            },
            "59th Street Harbor": {
                stalls: [
                    { size: "25'", rate: 75.00 },
                    { size: "30'", rate: 75.00 },
                    { size: "35'", rate: 75.00 }
                ]
            },
            "Belmont Harbor": {
                stalls: [
                    { size: "30'", rate: 117.00 },
                    { size: "35'", rate: 117.00 },
                    { size: "40'", rate: 123.00 },
                    { size: "45'", rate: 134.25 },
                    { size: "50'", rate: 134.25 },
                    { size: "60'", rate: 135.75 },
                    { size: "70'", rate: 161.75 },
                    { size: "80'", rate: 161.75 },
                    { size: "81'+", rate: 181.00 }
                ],
                mooringBuoys: [
                    { size: "30'", rate: 54.00 },
                    { size: "35'", rate: 54.00 },
                    { size: "40'", rate: 60.50 },
                    { size: "50'", rate: 61.75 }
                ],
                other: [
                    { size: "28' star dock", rate: 1725.00, type: "flat" }
                ]
            },
            "Burnham Harbor": {
                stalls: [
                    { size: "30'", rate: 124.00 },
                    { size: "35'", rate: 124.00 },
                    { size: "40'", rate: 128.00 },
                    { size: "45'", rate: 135.00 },
                    { size: "50'", rate: 139.25 },
                    { size: "60'", rate: 139.25 },
                    { size: "70'", rate: 161.75 },
                    { size: "80'", rate: 161.75 },
                    { size: "100'", rate: 181.00 },
                    { size: "101'+", rate: 206.00 }
                ]
            },
            "Diversey Harbor": {
                stalls: [
                    { size: "25'", rate: 114.00 },
                    { size: "30'", rate: 114.00 },
                    { size: "35'", rate: 114.00 },
                    { size: "40'", rate: 121.50 },
                    { size: "45'", rate: 121.50 },
                    { size: "50'", rate: 121.50 }
                ]
            },
            "DuSable Harbor": {
                stalls: [
                    { size: "30'", rate: 137.50 },
                    { size: "35'", rate: 137.50 },
                    { size: "40'", rate: 154.25 },
                    { size: "45'", rate: 154.25 },
                    { size: "50'", rate: 160.00 },
                    { size: "60'", rate: 160.00 },
                    { size: "61'+", rate: 180.75 }
                ]
            },
            "Jackson Inner Harbor": {
                stalls: [
                    { size: "30'", rate: 75.00 },
                    { size: "32'", rate: 75.00 },
                    { size: "36'", rate: 75.00 },
                    { size: "40'", rate: 75.00 }
                ]
            },
            "Jackson Outer Harbor": {
                stalls: [
                    { size: "30'", rate: 75.00 },
                    { size: "35'", rate: 75.00 },
                    { size: "40'", rate: 75.00 }
                ],
                mooringBuoys: [
                    { size: "25'", rate: 39.25 },
                    { size: "30'", rate: 39.25 },
                    { size: "35'", rate: 39.25 },
                    { size: "40'", rate: 39.25 }
                ]
            },
            "Monroe Harbor": {
                mooringBuoys: [
                    { size: "25'", rate: 45.00 },
                    { size: "30'", rate: 45.00 },
                    { size: "35'", rate: 47.50 },
                    { size: "40'", rate: 49.75 },
                    { size: "50'", rate: 52.00 },
                    { size: "80'", rate: 59.00 }
                ]
            },
            "Montrose Harbor": {
                stalls: [
                    { size: "25'", rate: 110.00 },
                    { size: "30'", rate: 110.00 },
                    { size: "35'", rate: 114.00 },
                    { size: "40'", rate: 117.00 },
                    { size: "50'", rate: 128.00 }
                ],
                mooringBuoys: [
                    { size: "35'", rate: 54.00 },
                    { size: "40'", rate: 60.50 }
                ],
                other: [
                    { size: "28' star dock", rate: 1725.00, type: "flat" }
                ]
            }
        };

        // Initialize the page
        function init() {
            populateFilters();
            initializeToggles();
            renderHarbors();
            
            // Event listeners
            document.getElementById('harborFilter').addEventListener('change', filterAndCalculate);
            document.getElementById('typeFilter').addEventListener('change', filterAndCalculate);
            document.getElementById('boatLength').addEventListener('input', filterAndCalculate);
            
            // Toggle event listeners
            document.getElementById('taxToggle').addEventListener('click', toggleTax);
            document.getElementById('nonResidentToggle').addEventListener('click', toggleNonResident);
        }

        function initializeToggles() {
            // Initialize toggle states
            window.includeTax = false;
            window.nonResident = false;
        }

        function toggleTax() {
            window.includeTax = !window.includeTax;
            const toggle = document.getElementById('taxToggle');
            toggle.classList.toggle('active', window.includeTax);
            filterAndCalculate();
        }

        function toggleNonResident() {
            window.nonResident = !window.nonResident;
            const toggle = document.getElementById('nonResidentToggle');
            toggle.classList.toggle('active', window.nonResident);
            filterAndCalculate();
        }

        function populateFilters() {
            const harborFilter = document.getElementById('harborFilter');
            Object.keys(harborData).forEach(harbor => {
                const option = document.createElement('option');
                option.value = harbor;
                option.textContent = harbor;
                harborFilter.appendChild(option);
            });
        }

        function filterAndCalculate() {
            renderHarbors();
            updateResultsCount();
        }

        function updateResultsCount() {
            const boatLength = parseFloat(document.getElementById('boatLength').value);
            const harborFilter = document.getElementById('harborFilter').value;
            const typeFilter = document.getElementById('typeFilter').value;
            
            let totalOptions = 0;
            let applicableOptions = 0;
            
            Object.entries(harborData).forEach(([harborName, data]) => {
                if (shouldShowHarbor(harborName)) {
                    Object.entries(data).forEach(([type, items]) => {
                        if (!typeFilter || type === typeFilter) {
                            items.forEach(item => {
                                totalOptions++;
                                if (boatLength && isApplicableForBoat(item, boatLength)) {
                                    applicableOptions++;
                                }
                            });
                        }
                    });
                }
            });
            
            const resultsDiv = document.getElementById('resultsCount');
            if (boatLength) {
                resultsDiv.textContent = `Showing ${applicableOptions} applicable option${applicableOptions !== 1 ? 's' : ''} for ${boatLength}' boat`;
            } else {
                resultsDiv.textContent = `Showing ${totalOptions} total option${totalOptions !== 1 ? 's' : ''}`;
            }
        }

        function isApplicableForBoat(item, boatLength) {
            const sizeStr = item.size.toString();
            
            // Handle star dock (flat rate)
            if (item.type === 'flat') {
                const sizeNum = parseInt(sizeStr);
                return boatLength <= sizeNum;
            }
            
            // Handle regular sizes
            const sizeNum = parseInt(sizeStr);
            
            if (sizeStr.includes('+')) {
                return boatLength >= sizeNum;
            } else {
                return boatLength <= sizeNum;
            }
        }

        function calculateCostForItem(item, boatLength) {
            let baseCost;
            if (item.type === 'flat') {
                baseCost = item.rate;
            } else {
                baseCost = item.rate * boatLength;
            }
            
            // Apply surcharges
            let finalCost = baseCost;
            
            // Apply non-resident surcharge (25%)
            if (window.nonResident) {
                finalCost = finalCost * 1.25;
            }
            
            // Apply tax (7%)
            if (window.includeTax) {
                finalCost = finalCost * 1.07;
            }
            
            return finalCost;
        }

        function renderHarbors() {
            const container = document.getElementById('harborContainer');
            container.innerHTML = '';

            Object.entries(harborData).forEach(([harborName, data]) => {
                if (shouldShowHarbor(harborName)) {
                    const harborCard = createHarborCard(harborName, data);
                    container.appendChild(harborCard);
                }
            });
        }

        function shouldShowHarbor(harborName) {
            const harborFilter = document.getElementById('harborFilter').value;
            const typeFilter = document.getElementById('typeFilter').value;

            if (harborFilter && harborFilter !== harborName) {
                return false;
            }

            if (typeFilter) {
                const data = harborData[harborName];
                return data && data[typeFilter];
            }

            return true;
        }

        function createHarborCard(harborName, data) {
            const card = document.createElement('div');
            card.className = 'harbor-card';
            const boatLength = parseFloat(document.getElementById('boatLength').value);
            const typeFilter = document.getElementById('typeFilter').value;

            let content = `<div class="harbor-name">${harborName}</div>`;

            // Show stalls if no type filter or stalls selected
            if (data.stalls && (!typeFilter || typeFilter === 'stalls')) {
                content += `
                    <div class="rate-section">
                        <div class="rate-type">Stalls</div>
                        ${data.stalls.map(stall => {
                            const isApplicable = boatLength && isApplicableForBoat(stall, boatLength);
                            const totalCost = boatLength ? calculateCostForItem(stall, boatLength) : null;
                            return `
                                <div class="rate-item ${isApplicable ? 'highlight' : ''}">
                                    <span class="size">${stall.size} stall</span>
                                    <div style="display: flex; align-items: center;">
                                        <span class="price">${stall.rate.toFixed(2)} per foot</span>
                                        ${totalCost ? `<span class="total-cost">${totalCost.toLocaleString()}</span>` : ''}
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            }

            // Show mooring buoys if no type filter or mooringBuoys selected
            if (data.mooringBuoys && (!typeFilter || typeFilter === 'mooringBuoys')) {
                content += `
                    <div class="rate-section">
                        <div class="rate-type">Mooring Buoys</div>
                        ${data.mooringBuoys.map(buoy => {
                            const isApplicable = boatLength && isApplicableForBoat(buoy, boatLength);
                            const totalCost = boatLength ? calculateCostForItem(buoy, boatLength) : null;
                            return `
                                <div class="rate-item ${isApplicable ? 'highlight' : ''}">
                                    <span class="size">${buoy.size} mooring buoy</span>
                                    <div style="display: flex; align-items: center;">
                                        <span class="price">${buoy.rate.toFixed(2)} per foot</span>
                                        ${totalCost ? `<span class="total-cost">${totalCost.toLocaleString()}</span>` : ''}
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            }

            // Show other (star docks) if no type filter or other selected
            if (data.other && (!typeFilter || typeFilter === 'other')) {
                content += `
                    <div class="rate-section">
                        <div class="rate-type">Star Docks</div>
                        ${data.other.map(item => {
                            const isApplicable = boatLength && isApplicableForBoat(item, boatLength);
                            return `
                                <div class="rate-item ${isApplicable ? 'highlight' : ''}">
                                    <span class="size">${item.size}</span>
                                    <div style="display: flex; align-items: center;">
                                        <span class="price">${item.rate.toLocaleString()}</span>
                                        ${isApplicable ? `<span class="total-cost">${item.rate.toLocaleString()}</span>` : ''}
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            }

            card.innerHTML = content;
            return card;
        }

        function filterHarbors() {
            renderHarbors();
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>